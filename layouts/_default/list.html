{{ define "main" }}
<div class="max-w-7xl mx-auto py-12 px-4">
    <h1 class="text-4xl font-bold text-center text-gray-900 mb-12">{{ .Title }}</h1>
    
    {{ if .IsHome }}
        <div class="text-center mb-12">
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">{{ .Site.Params.homeSubtitle }}</p>
        </div>
    {{ end }}
    
    <div class="prose max-w-none">
        {{ .Content }}
    </div>
    
    {{ if eq .Section "projects" }}
        {{ if .IsSection }}
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem;">
                {{ range .Pages }}
                    <div class="bg-white rounded-lg shadow-lg p-6 border" style="background: white; border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); padding: 1.5rem; border: 1px solid #e5e7eb; overflow: hidden; display: flex; flex-direction: column; max-width: 100%;">
                        <h2 class="text-xl font-bold text-blue-700 mb-2" style="font-size: 1.25rem; font-weight: bold; color: #1d4ed8; margin-bottom: 0.5rem;">
                            <a href="{{ .Permalink }}" style="text-decoration: none; color: inherit;">{{ .Title }}</a>
                        </h2>
                        
                        {{ if .Params.status }}
                            {{ if eq .Params.status "ðŸŸ© Completed" }}
                                <span style="display: inline-block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 600; color: #059669;">{{ .Params.status }}</span>
                            {{ else if eq .Params.status "ðŸŸ¦ In Progress" }}
                                <span style="display: inline-block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 600; color: #2563eb;">{{ .Params.status }}</span>
                            {{ else }}
                                <span style="display: inline-block; margin-bottom: 0.5rem; font-size: 0.875rem; font-weight: 600; color: #d97706;">{{ .Params.status }}</span>
                            {{ end }}
                        {{ end }}
                        
                        {{ if .Params.subtitle }}
                            <div class="text-sm text-gray-500 mb-3" style="font-size: 0.875rem; color: #6b7280; margin-bottom: 0.75rem;">{{ .Params.subtitle }}</div>
                        {{ end }}
                        
                        {{ if .Params.overview }}
                            <div class="text-gray-800 mb-4 text-sm" style="color: #1f2937; margin-bottom: 1rem; font-size: 0.875rem; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical; overflow: hidden;">
                                {{ if gt (len .Params.overview) 200 }}
                                    {{ substr .Params.overview 0 200 }}...
                                {{ else }}
                                    {{ .Params.overview }}
                                {{ end }}
                            </div>
                        {{ end }}
                        
                        {{ if .Params.objectives }}
                            <ul style="list-style-type: disc; list-style-position: inside; margin-bottom: 1rem; font-size: 0.875rem; color: #374151;">
                                {{ range .Params.objectives }}
                                    <li style="margin-bottom: 0.25rem;">{{ . }}</li>
                                {{ end }}
                            </ul>
                        {{ end }}
                        
                        {{ if .Params.technologies }}
                            <div style="font-size: 0.75rem; color: #9ca3af; margin-bottom: 0.75rem; line-height: 1.3;">{{ .Params.technologies }}</div>
                        {{ end }}
                        
                        <!-- Render page content including carousels -->
                        <div style="overflow: hidden; max-width: 100%; margin-bottom: 1rem;">
                            {{ .Content }}
                        </div>
                        
                        <!-- For thesis project, render the full markdown content manually -->
                        {{ if eq .Title "LSTM Forecasting of Bitcoin Implied Volatility (DVOL)" }}
                            <div style="margin-bottom: 1rem; font-size: 0.875rem; line-height: 1.6; color: #374151;">
                                <h4 style="font-size: 1rem; font-weight: 600; margin-bottom: 0.75rem; color: #1f2937;">Abstract</h4>
                                <p style="margin-bottom: 1rem;">This comprehensive research project explores the application of Long Short-Term Memory (LSTM) neural networks for forecasting market volatility, with a specific focus on Bitcoin implied volatility (DVOL). The thesis combines traditional financial econometrics with modern machine learning techniques to develop a hybrid forecasting model.</p>
                                
                                <h4 style="font-size: 1rem; font-weight: 600; margin-bottom: 0.75rem; color: #1f2937;">Research Methodology</h4>
                                <h5 style="font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem; color: #374151;">Data Collection & Preprocessing</h5>
                                <ul style="margin-bottom: 1rem; padding-left: 1rem; list-style-type: disc;">
                                    <li>Compiled comprehensive dataset spanning 2021-present of high-frequency market data</li>
                                    <li>Integrated multiple data sources including on-chain metrics and derivatives markets</li>
                                    <li>Applied sophisticated feature engineering techniques to extract predictive variables</li>
                                    <li>Implemented robust data validation and outlier detection procedures</li>
                                </ul>
                                
                                <h5 style="font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem; color: #374151;">Model Architecture</h5>
                                <p style="margin-bottom: 1rem;">The LSTM model incorporates a multi-layered architecture designed for sequential volatility prediction with input sequence windows, dropout regularization, and SHAP analysis for interpretability.</p>
                                
                                <h4 style="font-size: 1rem; font-weight: 600; margin-bottom: 0.75rem; color: #1f2937;">Key Findings</h4>
                                <ul style="margin-bottom: 1rem; padding-left: 1rem; list-style-type: disc;">
                                    <li><strong>Statistical Performance:</strong> Achieved superior MAPE and RMSE compared to baseline HAR-RV and GARCH models</li>
                                    <li><strong>Economic Validation:</strong> Delta-neutral trading strategies demonstrate economic significance</li>
                                    <li><strong>Feature Importance:</strong> On-chain metrics and lagged DVOL show highest predictive power</li>
                                </ul>
                            </div>
                        {{ end }}
                        
                        <!-- Additional front matter content for thesis -->
                        {{ if eq .Title "LSTM Forecasting of Bitcoin Implied Volatility (DVOL)" }}
                            {{ if .Params.core_predictors }}
                                <div style="margin-bottom: 1rem;">
                                    <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; color: #374151;">Core Predictors</h4>
                                    <div style="font-size: 0.75rem; color: #6b7280; line-height: 1.4;">
                                        {{ range .Params.core_predictors }}
                                            <div style="margin-bottom: 0.5rem; padding-left: 0.5rem; border-left: 2px solid #3b82f6;">
                                                <strong>{{ .name }}:</strong> {{ .description }}
                                            </div>
                                        {{ end }}
                                    </div>
                                </div>
                            {{ end }}
                            
                            {{ if .Params.academic_contributions }}
                                <div style="margin-bottom: 1rem;">
                                    <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; color: #374151;">Academic Contributions</h4>
                                    <ul style="font-size: 0.75rem; color: #6b7280; line-height: 1.4; list-style-type: disc; list-style-position: inside;">
                                        {{ range .Params.academic_contributions }}
                                            <li style="margin-bottom: 0.25rem;">{{ . }}</li>
                                        {{ end }}
                                    </ul>
                                </div>
                            {{ end }}
                        {{ end }}
                        
                        <!-- GitHub link at bottom -->
                        <div style="margin-top: auto; padding-top: 1rem;">
                            {{ if .Params.github }}
                                <a href="{{ .Params.github }}" target="_blank" style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background-color: #24292e; color: white; text-decoration: none; border-radius: 0.5rem; font-weight: 500; transition: all 0.2s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(36, 41, 46, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                                    âš¡ GitHub
                                </a>
                            {{ else }}
                                <div style="display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background-color: #6b7280; color: #9ca3af; border-radius: 0.5rem; font-weight: 500; cursor: not-allowed;">
                                    âš¡ GitHub Coming Soon
                                </div>
                            {{ end }}
                        </div>
                    </div>
                {{ end }}
            </div>
        {{ end }}
    {{ end }}
</div>
{{ end }}